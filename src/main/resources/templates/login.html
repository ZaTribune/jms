<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:replace="/fragments/head :: HeadFragment">
    <title></title>
<body>
<div class="container">
    <div th:replace="/fragments/header :: HeaderFragment"></div>
    <form class="container" style="width: 100%;max-width: 330px;padding: 15px;margin: 0 auto;" method="POST" th:action="@{/login}">
        <h2 class="text-center">Messaging System</h2>
        <div class="container text-center">
            <span th:text="${message}"></span>

            <!-- the value attribute is added for testing--->
            <input name="username" type="text" class="form-control m-1" placeholder="Username"
                   autofocus autocomplete="on" aria-label=""
            value="user1@gmail.com"/>

            <input name="password" type="password" class="form-control m-1" placeholder="Password"  aria-label=""
            value="pass"/>
            <span class="invalid-feedback d-inline-block" th:text="${error}"></span>
            <!--
            This is the csrf token and it's generated by the server side once a user is authenticated.
            and it can be generated once per "user session" or once per "user request".
            When a request is issued by the client, the server-side component must verify the existence
            and validity of the token in the request compared to the token found in the user session.
            -->
            <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}"/>
            <button class="btn btn-primary m-1 w-50" type="submit">Log In</button>
            <a class="btn btn-secondary m-1 w-50" href="/registration">Register</a>
        </div>
    </form>
</div>
</body>
</html>